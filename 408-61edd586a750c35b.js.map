{"version":3,"file":"408-61edd586a750c35b.js","sources":["webpack://ocr/./web/src/layout.vue?15c6","webpack://ocr/./web/src/layout.vue?9ec1","webpack://ocr/./common/utils.js","webpack://ocr/./web/src/helpers/idb.js","webpack://ocr/./web/src/layout.vue","webpack://ocr/./web/src/layout.vue?9222","webpack://ocr/./web/src/router/routes.js","webpack://ocr/./web/src/router/index.js","webpack://ocr/./web/src/ui/icon.js","webpack://ocr/./web/src/app.js","webpack://ocr/./web/src/plugins/idb.js"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"@/assets/loader.svg\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `body,input,ul,li,span,div,form,button{all:unset;box-sizing:border-box}div{display:block}span{display:inline}button,input{display:inline-block}button{cursor:pointer}body{background-color:#000}.loader{background-image:url(${___CSS_LOADER_URL_REPLACEMENT_0___})}#app{max-width:800px;height:100vh;margin:auto;overflow:hidden}.layout{position:relative;height:100%;width:100%;padding-top:env(safe-area-inset-top);padding-right:env(safe-area-inset-right);padding-bottom:env(safe-area-inset-bottom);padding-left:env(safe-area-inset-left)}.layout .progress{position:absolute;bottom:env(safe-area-inset-bottom);width:100%;color:#fff;text-align:center}input[type=text]{background-color:hsla(0,0%,100%,.5);font-size:1.4em;font-family:Arial,Helvetica,sans-serif;padding:4px;display:block;width:100%}ul li{display:block;margin-bottom:4px;padding:4px;background-color:hsla(0,0%,100%,.8)}`, \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      var API = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n      var domAPI = require(\"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\");\n      var insertFn = require(\"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\");\n      var setAttributes = require(\"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\");\n      var insertStyleElement = require(\"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\");\n      var styleTagTransformFn = require(\"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\");\n      var content = require(\"!!../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-4.use[1]!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-4.use[2]!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-4.use[3]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./layout.vue?vue&type=style&index=0&id=6ae66eec&lang=scss\");\n      \n      content = content.__esModule ? content.default : content;\n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nmodule.exports = content && content.locals || {};\n","export const normalize = s => {\n\tif (typeof s !== 'string') console.log(s)\n\treturn s.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '').toLowerCase()\n}\nexport const escapeRegex = s => s.replace(/[/\\-\\\\^$*+?.()|[\\]{}]/g, '\\\\$&')\nexport const uuid = s => (s ? s + '-' : '') + Date.now().toString(32) + '-' + Math.random().toString(32).substring(2)","import { normalize } from '@common/utils'\n\n/** @type {IDBDatabase} */\nlet db\n\n/**\n * Open the App IndexedDB and do the migrations\n */\nconst openCardsDB = () => new Promise((resolve, reject) => {\n\tconst request = indexedDB.open('app', 1)\n\trequest.onupgradeneeded = ev => {\n\t\tconst db = request.result\n\t\tif (!ev.oldVersion) {\n\t\t\tdb.createObjectStore('cards')\n\t\t\tdb.createObjectStore('abilities')\n\t\t\tdb.createObjectStore('attacks')\n\t\t}\n\t}\n\trequest.onerror = () => {\n\t\tconsole.error('[indexeddb]', request.error)\n\t\treject(request.error)\n\t}\n\trequest.onsuccess = ev => {\n\t\tresolve(ev.target.result)\n\t}\n})\n\n/**\n *\n * @param {IDBDatabase} db\n * @param {String|String[]} name\n * @param {IDBTransactionMode} mode\n * @param {(store: IDBObjectStore) => void} callback\n * @returns {Promise<IDBObjectStore>}\n */\nconst doInStore = (db, name, mode, callback) => new Promise((resolve, reject) => {\n\tconst tr = db.transaction(name, mode)\n\ttr.oncomplete = resolve\n\ttr.onerror = reject\n\tcallback(tr.objectStore(name))\n})\n\nconst initProcess = Promise.all([\n\ttypeof window !== 'undefined' ? fetch('/db.json', { cache: 'no-cache' }).then(res => res.json()).catch(() => null) : Promise.resolve(),\n\topenCardsDB(),\n])\n\nexport const processStore = async (name, ...args) => {\n\tawait initProcess\n\t\n\tlet options = {}\n\tif (typeof args[1] === 'object') options = args[1]\n\tconst fn = args.pop()\n\treturn doInStore(db, name, options.mode || 'readonly', fn)\n}\n\ninitProcess.then(async ([cards, _db]) => {\n\t/** @type {IDBDatabase} */\n\tdb = _db\n\tif (!cards) return\n\n\t// Filling database with all the cards\n\t// TODO: Do the update in a separate process, and dont fetch always all the cards\n\tawait doInStore(db, 'cards', 'readwrite', store => {\n\t\tfor (const card of cards) {\n\t\t\tcard.search = [\n\t\t\t\tcard.id,\n\t\t\t\t`${card.ext} ${card.extId}`,\n\t\t\t\tnormalize(card.fr?.name || ''),\n\t\t\t\tnormalize(card.en?.name || ''),\n\t\t\t].filter(s => !!s).map(s => s.trim()).join('\\n')\n\n\t\t\tstore.put(card, card.id)\n\t\t}\n\t})\n})","<template>\n\t<div class=\"layout\">\n\t\t<router-view />\n\t\t<div class=\"progress\">{{ Number(progressCacheDownload).toFixed(2) }} %</div>\n\t</div>\n</template>\n\n<script setup>\nimport { onMounted, ref } from 'vue'\nimport idb from '@/plugins/idb'\nconst progressCacheDownload = ref(0)\n\nonMounted(async () => {\n\tconsole.log(await navigator.storage.persist())\n\tconst searchCards = { all: false, keywords: null }\n\tconst allStandardCards = await idb({ searchCards })\n\n\tnavigator.serviceWorker.addEventListener('message', async ev => {\n\t\tconst { cache: cached } = ev.data\n\t\tconst baseUrl = 'https://pub-4211d6b528d54ed69e8ec217f023723e.r2.dev/'\n\t\tconst imgs = allStandardCards.map(card => ([\n\t\t\tbaseUrl + `${card.ext}-${card.extId}-fr-hd-c.avif`,\n\t\t\tbaseUrl + `${card.ext}-${card.extId}-en-hd-c.avif`,\n\t\t])).flat(1)\n\t\tconst notCachedImgs = imgs.filter(img => !cached[img])\n\t\tlet idx = imgs.length - notCachedImgs.length\n\t\tfor (const img of notCachedImgs) {\n\t\t\tawait navigator.serviceWorker.controller.postMessage({ cache: img })\n\t\t\tawait new Promise(resolve => setTimeout(resolve, 50))\n\t\t\tidx++\n\t\t\tprogressCacheDownload.value = (idx / imgs.length) * 100\n\t\t\tif (idx % 100 === 0) {\n\t\t\t\tconsole.log(`[img] Downloading img ${Number((idx / imgs.length) * 100).toFixed(2)}%`)\n\t\t\t}\n\t\t}\n\t}, { once: true })\n\tnavigator.serviceWorker.controller.postMessage({ getCache: 'img' })\n})\n/*\nfetch('/db-images.json').then(res => res.json()).then(async imgs => {\n\tnavigator.serviceWorker.addEventListener('message', async ev => {\n\t\tconst { cache: cached } = ev.data\n\n\t\tlet idx = 0\n\t\tfor (const img of imgs) {\n\t\t\tconst url = 'https://pub-4211d6b528d54ed69e8ec217f023723e.r2.dev/' + img\n\t\t\tif (cached[url]) {\n\t\t\t\tidx++\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tawait navigator.serviceWorker.controller.postMessage({ cache: url })\n\t\t\tawait new Promise(resolve => setTimeout(resolve, 50))\n\t\t\tidx++\n\t\t\tif (idx % 100 === 0) {\n\t\t\t\tconsole.log(`[img] Downloading img ${Number((idx / imgs.length) * 100).toFixed(2)}%`)\n\t\t\t}\n\t\t}\n\t}, { once: true })\n\tnavigator.serviceWorker.controller.postMessage({ getCache: 'img' })\n})\n*/\n</script>\n\n<style lang=\"scss\">\nbody, input, ul, li, span, div, form, button {\n\tall: unset;\n\tbox-sizing: border-box;\n}\ndiv {\n\tdisplay: block;\n}\nspan {\n\tdisplay: inline;\n}\nbutton, input {\n\tdisplay: inline-block;\n}\nbutton {\n\tcursor: pointer;\n}\n\nbody {\n\tbackground-color: black;\n}\n.loader {\n\tbackground-image: url('@/assets/loader.svg')\n}\n\n#app {\n\tmax-width: 800px;\n\theight: 100vh;\n\tmargin: auto;\n\toverflow: hidden;\n}\n.layout {\n\tposition: relative;\n\theight: 100%;\n\twidth: 100%;\n\n\tpadding-top: env(safe-area-inset-top);\n\tpadding-right: env(safe-area-inset-right);\n\tpadding-bottom: env(safe-area-inset-bottom);\n\tpadding-left: env(safe-area-inset-left);\n\n\t.progress {\n\t\tposition: absolute;\n\t\tbottom: env(safe-area-inset-bottom);\n\t\twidth: 100%;\n\t\tcolor: white;\n\t\ttext-align: center;\n\t}\n}\n\ninput[type=text] {\n\tbackground-color: rgba(255, 255, 255, .5);\n\tfont-size: 1.4em;\n\tfont-family: Arial, Helvetica, sans-serif;\n\tpadding: 4px;\n\tdisplay: block;\n\twidth: 100%;\n}\nul li {\n\tdisplay: block;\n\tmargin-bottom: 4px;\n\tpadding: 4px;\n\tbackground-color: rgba(255, 255, 255, .8);\n}\n</style>","import script from \"./layout.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./layout.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./layout.vue?vue&type=style&index=0&id=6ae66eec&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","export default load => [\n\t{\n\t\tname: 'search',\n\t\tpath: '/',\n\t\tcomponent: () => load(import('@/pages/search')),\n\t},\n\t/**\n\t// 500\n\t{\n\t\tname: '500',\n\t\tpath: '/error/:id',\n\t\tcomponent: () => load(import('@/pages/500')),\n\t\tmeta: {\n\t\t\t// layout: LAYOUTS.MENUS,\n\t\t},\n\t},\n\t// 404\n\t{\n\t\tname: '404',\n\t\tpath: '/:catchAll(.*)',\n\t\tcomponent: () => load(import('@/pages/404')),\n\t\tmeta: {\n\t\t\tstatus: 404,\n\t\t\t// layout: LAYOUTS.MENUS,\n\t\t},\n\t\tprops: {\n\t\t\tpage: true,\n\t\t},\n\t},\n\t*/\n]","import { defineAsyncComponent } from 'vue'\nimport { createRouter, createWebHistory } from 'vue-router'\nimport routes from './routes'\n\nconst loading = bool => true\nexport const load = promiseOrFct => {\n\tif (promiseOrFct.then) {\n\t\tloading(true)\n\t\treturn promiseOrFct.then(\n\t\t\tres => {\n\t\t\t\tloading(false)\n\t\t\t\treturn res.default || res\n\t\t\t},\n\t\t\terr => {\n\t\t\t\tconsole.error(err)\n\t\t\t\tif (/googlebot/i.test(navigator.userAgent)) {\n\t\t\t\t\tlocation.reload()\n\t\t\t\t}\n\t\t\t\t// return page500\n\t\t\t},\n\t\t)\n\t}\n\treturn defineAsyncComponent(() => load(promiseOrFct()))\n}\n\n// Router\nconst router = createRouter({\n\thistory: createWebHistory(),\n\tbase: '/',\n\troutes: routes(load),\n\t/*\n\tasync scrollBehavior(to, from, savedPosition) {\n\t\t// Call scrollBehavior method on last component\n\t\tfor (let i = to.matched.length - 1; i >= 0; i--) {\n\t\t\tconst route = to.matched[i]\n\t\t\tconst scrollBehavior = route.components?.default?.scrollBehavior\n\t\t\tif (!scrollBehavior) continue\n\n\t\t\tconst vm = route.instances.default || await waitForInstance(route)\n\t\t\tsavedPosition = await scrollBehavior(vm, to, from, savedPosition) || savedPosition\n\t\t}\n\n\t\t// default pos + hash in the URL => scroll to hash\n\t\tconst hash = window.location.hash.replace('#', '')\n\t\tconst shouldScrollToHash = from === START_LOCATION && hash !== '' // && (!savedPosition || (savedPosition.top === 0 && savedPosition.left === 0))\n\t\tif (shouldScrollToHash) {\n\t\t\tconst elem = document.getElementById(hash)\n\t\t\tif (!elem) return\n\t\t\telem.scrollIntoView({ behavior: 'auto', block: 'start', inline: 'start' })\n\t\t\treturn\n\t\t}\n\t\tsavedPosition ||= { top: 0, left: 0 }\n\t\tif (savedPosition === 'none') return false\n\t\treturn savedPosition\n\t},\n\t*/\n})\nexport default router","import { h as createElement, toRaw } from 'vue'\n\n/**\n * Simple svg wrapper with default 1em size and fill currentColor.\n * Usage: <ui-icon src=\"@/assets/icons/icon-name\"></icon>\n */\nexport default {\n\tcompatConfig: { MODE: 3 },\n\tname: 'icon',\n\tinheritAttrs: false,\n\trender() {\n\t\tconst attrs = { ...toRaw(this.$attrs) }\n\n\t\t// Defaults\n\t\tif (!attrs.width) attrs.width = attrs.size || '15'\n\t\tif (!attrs.height) attrs.height = attrs.size || '15'\n\t\tdelete attrs.size\n\n\t\t// Warnings\n\t\tif (process.env.NODE_ENV === 'development') {\n\t\t\tif (!attrs.src) console.error('Missing \"src\" attribute on icon component')\n\t\t}\n\n\t\tlet src = attrs.src\n\t\tsrc = src?.default || src\n\t\tdelete attrs.src\n\n\t\treturn createElement(src, attrs, this.$slots.default && this.$slots.default())\n\t},\n}","/**\n * Game UI, web based\n */\nimport 'core-js/stable'\nimport { createApp } from 'vue'\nimport './helpers/idb'\n\nimport Layout from './layout'\nimport router from './router'\nimport UiIcon from './ui/icon'\n\n// import { peer, secret as peerSecret, broadcast } from './helpers/peerjs'\n\n// enables the :active CSS property on iOS\nwindow.addEventListener('touchstart', () => {}, { passive: true })\n\n// Vuejs app\nconst app = createApp(Layout)\n\t.use(router)\n\n// Add properties\nconst props = app.config.globalProperties\n\n/**\n * Async version of $emit\n * usage:\n * in emitter: this.$emitAsync('myevent', { data }).then(...)\n * in listener: @myevent=\"ev => ev.waitUntil(mypromise)\"\n * @param\t{string}  name\t\tEvent's name\n * @param\t{Object}  data\t\tEvent's parameter\n * @return\t{Promise}\n */\nprops.$emitAsync = function (name, data) {\n\tif (!data) data = {}\n\tlet promise = Promise.resolve()\n\tdata.waitUntil = p => promise = p\n\tthis.$emit(name, data)\n\treturn promise\n}\n\n// TODO: Icon component\napp.component('UiIcon', UiIcon)\n\n/*\npeer.on('open', () => {\n\tconsole.log(`[PeerJS] id: ${peer.id}, secret: ${peerSecret}`)\n\twindow.$peerjs = { id: peer.id, secret: peerSecret }\n\twindow.dispatchEvent(new CustomEvent('peerjs.open', { detail: window.$peerjs }))\n})\npeer.on('data', ({ peer, data }) => {\n\tif ('log' in data) peer.metadata.logLevel = data.log\n})\nlogger.on('log', ({ level, data }) => {\n\tif (level === LoggerLevel.error) console.error(new Date().toISOString(), ...data)\n\tif (level === LoggerLevel.verbose && process.env.NODE_ENV === 'development') console.log(new Date().toISOString(), ...data)\n\tif (level === LoggerLevel.info) console.info(new Date().toISOString(), ...data)\n\tif (level === LoggerLevel.warn) console.warn(new Date().toISOString(), ...data)\n\n\tlet dataToSend\n\tbroadcast(client => {\n\t\tif (client.metadata.logLevel && client.metadata.logLevel & level) {\n\t\t\tif (!dataToSend) dataToSend = JSON.parse(JSON.stringify(data))\n\t\t\treturn { log: dataToSend, level }\n\t\t}\n\t})\n})\n*/\n\napp.mount('#app')\n\nexport default app","/**\n * Do an IDB request in a worker\n * @param {{ searchCards?: RegExp }} req\n */\nexport default req => new Promise(resolve => {\n\tconst worker = new Worker(new URL('@/workers/idb.js', import.meta.url), {\n\t\tname: 'idb',\n\t\ttype: 'module',\n\t})\n\tworker.onmessage = ev => {\n\t\tresolve(ev.data)\n\t}\n\tworker.postMessage(req)\n})"],"names":["___CSS_LOADER_URL_IMPORT_0___","URL","___CSS_LOADER_EXPORT___","___CSS_LOADER_URL_REPLACEMENT_0___","push","module","id","API","domAPI","insertFn","setAttributes","insertStyleElement","styleTagTransformFn","content","__esModule","default","options","styleTagTransform","insert","bind","exports","locals","normalize","s","console","log","replace","toLowerCase","uuid","Date","now","toString","Math","random","substring","Promise","all","window","fetch","cache","then","res","json","catch","resolve","reject","request","indexedDB","open","onupgradeneeded","ev","db","result","oldVersion","createObjectStore","onerror","error","onsuccess","target","async","cards","_db","name","callback","store","card","search","ext","extId","fr","en","filter","map","trim","join","put","tr","transaction","oncomplete","objectStore","progressCacheDownload","navigator","storage","persist","allStandardCards","idb","searchCards","keywords","serviceWorker","addEventListener","cached","data","baseUrl","imgs","flat","notCachedImgs","img","idx","length","controller","postMessage","setTimeout","value","Number","toFixed","once","getCache","promiseOrFct","err","test","userAgent","location","reload","load","history","base","routes","path","component","compatConfig","MODE","inheritAttrs","render","attrs","this","$attrs","width","size","height","src","$slots","passive","app","use","config","globalProperties","$emitAsync","promise","waitUntil","p","$emit","mount","req","worker","Worker","type","onmessage"],"mappings":"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"}